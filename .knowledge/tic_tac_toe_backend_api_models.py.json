{"is_source_file": true, "format": "Python", "description": "This file contains database access functions and constants related to a MongoDB backend for a Tic-Tac-Toe game. It manages user and game data, including CRUD operations, leaderboards, and user game histories.", "external_files": ["pymongo", "bson.ObjectId"], "external_methods": ["MongoClient", "ObjectId"], "published": ["get_mongo_client", "get_db", "find_user_by_username", "find_user_by_id", "create_user", "create_game", "find_game_by_id", "update_game", "get_leaderboard", "get_user_game_history", "verify_password", "record_game_result"], "classes": [], "methods": [{"name": "get_mongo_client()", "description": "Returns a MongoDB client using environment variables.", "scope": "", "scopeKind": ""}, {"name": "get_db()", "description": "Returns the database object for the configured MongoDB DB.", "scope": "", "scopeKind": ""}, {"name": "find_user_by_username(username)", "description": "Find user by username in MongoDB.", "scope": "", "scopeKind": ""}, {"name": "find_user_by_id(user_id)", "description": "Find user by user_id in MongoDB.", "scope": "", "scopeKind": ""}, {"name": "create_user(user_obj)", "description": "Insert a new user document.", "scope": "", "scopeKind": ""}, {"name": "create_game(game_obj)", "description": "Insert a new game document.", "scope": "", "scopeKind": ""}, {"name": "find_game_by_id(game_id)", "description": "Find a game by its ObjectId.", "scope": "", "scopeKind": ""}, {"name": "update_game(game_id, update_dict)", "description": "Update a game's fields.", "scope": "", "scopeKind": ""}, {"name": "get_leaderboard(limit=10)", "description": "Return players with top win counts, along with their username, wins, losses, and draws, ordered by wins descending.", "scope": "", "scopeKind": ""}, {"name": "get_user_game_history(user_id)", "description": "Returns a list of games for the given user, sorted by date.", "scope": "", "scopeKind": ""}, {"name": "verify_password(user_obj, password)", "description": "Checks password for user document (plain text, for demo purposes).", "scope": "", "scopeKind": ""}, {"name": "record_game_result(game_id, winner_id=None, draw=False)", "description": "Update game result (winner or draw) in database.", "scope": "", "scopeKind": ""}], "calls": ["get_mongo_client", "get_db", "find_user_by_username", "find_user_by_id", "create_user", "create_game", "find_game_by_id", "update_game", "get_db", "get_db", "find_game_by_id", "update_game"], "search-terms": ["MongoDB backend", "game management", "user CRUD", "leaderboard", "game history", "MongoClient", "ObjectId"], "state": 2, "file_id": 16, "knowledge_revision": 48, "git_revision": "151315bda4314794a678f327e316cabeb3a55285", "revision_history": [{"34": "14a9f975781b336aa533db18b46927eb2fe9a8c5"}, {"38": "14a9f975781b336aa533db18b46927eb2fe9a8c5"}, {"44": "14a9f975781b336aa533db18b46927eb2fe9a8c5"}, {"48": "151315bda4314794a678f327e316cabeb3a55285"}], "ctags": [{"_type": "tag", "name": "GAME_COLLECTION", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^GAME_COLLECTION = 'games'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "USER_COLLECTION", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^USER_COLLECTION = 'users'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def create_game(game_obj):$/", "language": "Python", "kind": "function", "signature": "(game_obj)"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def create_user(user_obj):$/", "language": "Python", "kind": "function", "signature": "(user_obj)"}, {"_type": "tag", "name": "find_game_by_id", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def find_game_by_id(game_id):$/", "language": "Python", "kind": "function", "signature": "(game_id)"}, {"_type": "tag", "name": "find_user_by_id", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def find_user_by_id(user_id):$/", "language": "Python", "kind": "function", "signature": "(user_id)"}, {"_type": "tag", "name": "find_user_by_username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def find_user_by_username(username):$/", "language": "Python", "kind": "function", "signature": "(username)"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def get_db():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_leaderboard", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def get_leaderboard(limit=10):$/", "language": "Python", "kind": "function", "signature": "(limit=10)"}, {"_type": "tag", "name": "get_mongo_client", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def get_mongo_client():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_user_game_history", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def get_user_game_history(user_id):$/", "language": "Python", "kind": "function", "signature": "(user_id)"}, {"_type": "tag", "name": "record_game_result", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def record_game_result(game_id, winner_id=None, draw=False):$/", "language": "Python", "kind": "function", "signature": "(game_id, winner_id=None, draw=False)"}, {"_type": "tag", "name": "update_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def update_game(game_id, update_dict):$/", "language": "Python", "kind": "function", "signature": "(game_id, update_dict)"}, {"_type": "tag", "name": "verify_password", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-player-profiles-142458-142480/tic_tac_toe_backend/api/models.py", "pattern": "/^def verify_password(user_obj, password):$/", "language": "Python", "kind": "function", "signature": "(user_obj, password)"}], "hash": "e176b01ed2b1e1a40a52fe7409b8e84c", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/api/models.py", "fields": [{"name": "GAME_COLLECTION = 'games'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "USER_COLLECTION = 'users'", "scope": "", "scopeKind": "", "description": "unavailable"}]}